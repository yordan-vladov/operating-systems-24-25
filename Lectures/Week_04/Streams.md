# Стандартни потоци

---

## Какво е поток?

- Връзка, която позволява данни да пътуват между програма и околната ѝ среда (операционната система, терминалът, ...)
- Всеки поток има посока
- Абстрахират програмните комуникации

---

## Стандартни потоци

1. **stdin** - Стандартен вход
2. **stdout** - Стандартен изход
3. **stderr** - Стандартна грешка

---

## Файлов дескриптор

- Уникален идентификатор за файл или I/O ресурс
- Обикновено се изразяват като положително цяло число
- Стандартните потоци имат специфични файлови дескриптори

---

## stdin

- **Цел**: Използва се за вход на програмите. Обикновено взима вход от клавиатурата
- **Дескриптор**: 0
- **Пример**: Въвеждане на вход в програма

---

## stdout

- **Цел**: Използва се за изход на програмите. Обикновено се извежда в терминалът
- **Дескриптор**: 1
- **Пример**: Принтиране на съобщение

---
## stderr

- **Цел**: Използва се за извеждане на грешки и диагностики
- **Дескриптор**: 2
- **Пример**: Принтиране на съобщение за грешка

---

## Пренасочване

1. **stdin** - Идва от клавиатурата
2. **stdout** - Отива към терминалът
3. **stderr** - Отива към терминалът
- Позволява ни променим крайната точка на даден канал към файлове, други програми или устройства

---

## echo

- Принтира съобщение на екрана

```bash
echo Hello, World!
Hello, World!
```

---

## Пренасочване на stdout

-  Ако искаме да пренасочим изходът на програма към файл, можем да използваме ">"
- Всяко пренасочване ще презапише файлът
```bash
echo Hello, World! > output.txt
cat output.txt
Hello, World!
```

---

- Ако вместо да презапишем файла искаме да добавим към него, можем да използваме ">>"

```bash
cat output.txt
Hello, World!
echo Hello, Again! >> output.txt
Hello, World!
Hello, Again!
```

---

## Пренасочване на stdin

- Програма може да приема входа си от файл, вместо от клавиатурата

```bash
command < file.txt
```


---

## Пренасочване на sterr

- Позволява ни да обработим програмните грешки по различен начин
- Можем да запазим грешките във файл, използвайки "2>“:

```bash
command 2> file.txt
```

---

- Можем да премахнем съобщенията за грешка, като ги пренасочим към "/dev/null"
- Това е специален файл, който служи като "черна дупка"

```bash
command 2> /dev/null
```

---

- Често ако искаме да преработим съобщенията за грешка трябва да ги превърнем стандартен изход

```bash
command 2>&1
```

---

## Каква е разликата между тези две команди?

```bash
command 2>&1 >test.txt
command >test.txt 2>&1
```
