# Разрешения

---
## Разрешения

- "Правата", които имаме върху даден файл/директория. Делят се на три основни вида:
    - **read**
    - **write**
    - **execute**
- Често се наричат "пермишъни" (permission)
---
## READ

- Позволява ни да видим съдържанието на файл или директория.
- По подразбиране можем да четем по-голямата част от файловата система

---
## WRITE

- Позволява ни да променяме съдържанието на файл или директорията
- При директориите това включва добавяне или триене на файлове
- По подразбиране имаме **write** позволения върху нашата **home** директория

---
## EXECUTE

- За файлове ни позволява да изпълним програмата/скрипта която се намира във файла
- За директории ни позволява да навигираме към нея и да достъпваме нейното съдържание

---

## Извеждане на позволения

- Използваме `ls -l <file/directory>`
- Пример:
```bash
ls -l /etc/passwd
-rw-r--r-- 1 root root 3255 Aug 24 11:59 /etc/passwd
```

---

![](/Attachments/OS_Permissions_Pic_1.png)

---
## Тип

- Определя се от първият символ:
    - "-" - файл
    - "d" - директория
    - "l" - линк

---
## Тип - Примери

```bash
ls -l
total 0
drwxr-xr-x 1 yordan yordan 0 Oct 13 13:42 dir
-rw-r--r-- 1 yordan yordan 0 Oct 13 13:42 file.txt
```

---
## Разрешения

![](/Attachments/OS_Permissions_Pic_2.png)

---
## Разрешения - Типове

![](/Attachments/OS_Permissions_Pic_3.png)

---

![](/Attachments/OS_Permissions_Pic_4.png)

---
## Разрешения - Примери

- "rwx" - може да чете, да пише и да изпълнява
- "rw-" - може да чете и да пише
- "--x" - може да изпълнява

---

- Определете разрешенията на следните файлове

```bash
ls -l
drwxr-xr-x  2 alice   staff  4096 Oct 13 10:00  my_directory
-rw-r--r--  1 bob     dev    2048 Oct 13 09:45  file1.txt
-rwxr-x---  1 charlie admin   512 Oct 12 16:30  script.sh
-rw-------  1 diana   hr     1024 Oct 12 12:00  private_data.txt
```

---
## chmod

- Позволява ни да променим разрешенията за даден файл или директория
- И има два основни формата за задаване на разрешения:
    - символно
    - числено (октално)

---
## Символно задаване

- Трябва да определим:
    - За **Кого** определяме разрешенията
    - **Каква** промяна извършваме
    - **Кои** разрешения задаваме

---
## chmod - Кого

- "u" - Потребител
- "g" - Група
- "o" - Други
- "a" - Всички

---
## chmod - Каква промяна

- "=" - Задаваме нови разрешения
- "+" - Добавяме разрешения
- "-" - Премахваме разрешения

---
## chmod - Кои разрешения

- "r" - Четене
- "w" - Писане
- "x" - Изпълнение

---
## chmod - Примери

```bash
chmod g=rx,o= file_1.txt
chmod u=rwx,g=rw,o= file_2.txt
chmod a=rwx file_3.txt
```

---

```bash
chmod u+x file_1.txt
chmod o+rw file_2.txt
```

---

```bash
chmod u-w file_1.txt
chmod g-rw file_2.txt
chmod a-wx file_2.txt
```

---

## Числено представяне

- Позволенията се представят чрез трицифрено число
- Всяка цифра има стойност от 0-7
- Трите основни разрешения са представени чрез цифрите 1 ('x'), 2 ('w') и 4 ('r')
- Различните комбинации на разрешенията се представят чрез сборове на тези цифри

---

![](/Attachments/OS_Permissions_Pic_5.png)

---

![](/Attachments/OS_Permissions_Pic_6.png)

---

![](/Attachments/OS_Permissions_Pic_7.png)

---

## octal - примери

```bash
chmod 755 file_1.txt
chmod 644 file_2.txt
chmod 777 file_3.txt
chmod 600 file_4.txt
```

---
## chown

- Променя собственика/групата на файл/директория

```bash
chown user_1 file_1.txt
chown user_1:group_1 file_1.txt
chown :group_1 file_1.txt
```

---
## chgrp

- Променя групата на файл/директория

```bash
chgrp group file_1.txt
```
